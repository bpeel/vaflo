<!doctype html>

<!--
// Vaflo – A word game in Esperanto
// Copyright (C) 2023  Neil Roberts
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="A daily word game with the Shavian alphabet.">
    <title>Shawffle</title>
    <link rel="stylesheet" type="text/css" href="vaflo.css">
    <script type="module" src="vaflo.js"></script>
  </head>
  <body>
    <div id="content">
      <div class="title-bar">
        <div class="title-left-space"></div>
        <h1 id="title">Shawffle</h1>
        <svg id="help-button" viewBox="0 0 35.967396 35.9674">
          <path fill="black"
                d="M 17.984,0.649 c -9.557,0 -17.334,7.777 -17.334,17.334
                   0,9.557 7.777,17.334 17.334,17.334 9.557,0 17.334,-7.777
                   17.334,-17.334 0,-9.557 -7.777,-17.334 -17.334,-17.334 z
                   m 0,2.701 c 8.098,0 14.633,6.535 14.633,14.633 0,8.098
                   -6.535,14.635 -14.633,14.635 -8.098,0 -14.635,-6.537
                   -14.635,-14.635 0,-8.098 6.537,-14.633 14.635,-14.633
                   z m -2.389,22.673 h 3.138 v 3.926 h -3.138 z m 3.045,-2.272
                   h -2.952 v -2.380 q 0,-1.561 0.433,-2.566 0.433,-1.005
                   1.824,-2.334 l 1.391,-1.376 q 0.881,-0.819 1.267,-1.546
                   0.402,-0.726 0.402,-1.484 0,-1.376 -1.020,-2.226
                   -1.005,-0.850 -2.674,-0.850 -1.221,0 -2.612,0.541
                   -1.376,0.541 -2.875,1.577 v -2.906 q 1.453,-0.881
                   2.937,-1.314 1.499,-0.433 3.091,-0.433 2.844,0
                   4.560,1.499 1.731,1.499 1.731,3.957 0,1.175 -0.556,2.241
                   -0.556,1.051 -1.947,2.380 l -1.360,1.329 q -0.726,0.726
                   -1.036,1.144 -0.294,0.402 -0.417,0.788 -0.093,0.325
                   -0.139,0.788 -0.046,0.464 -0.046,1.267 z" />
        </svg>
      </div>
      <p id="message" style="display: block">Loading…</p>
      <div id="game-contents" style="display: none">
        <div id="game-grid"></div>
        <div id="swaps-remaining"></div>
        <button id="share-button" style="display: none">Share</button>
        <div id="statistics" style="display: none">
          <h2>Statistics</h2>
          <table>
            <tr>
              <th scope="row">Played</th>
              <td id="stats-played"></td>
            </tr>
            <tr>
              <th scope="row">Total stars</th>
              <td id="stats-total-stars"></td>
            </tr>
            <tr>
              <th scope="row">Current streak</th>
              <td id="stats-current-streak"></td>
            </tr>
            <tr>
              <th scope="row">Best streak</th>
              <td id="stats-best-streak"></td>
            </tr>
          </table>
          <h2>Star distribution</h2>
          <table>
            <tr><th scope="row">X</th><td id="stats-fail-count"></td></tr>
            <tr><th scope="row">0⭐</th><td id="stats-0-stars"></td></tr>
            <tr><th scope="row">1⭐</th><td id="stats-1-stars"></td></tr>
            <tr><th scope="row">2⭐</th><td id="stats-2-stars"></td></tr>
            <tr><th scope="row">3⭐</th><td id="stats-3-stars"></td></tr>
            <tr><th scope="row">4⭐</th><td id="stats-4-stars"></td></tr>
            <tr><th scope="row">5⭐</th><td id="stats-5-stars"></td></tr>
          </table>
          <p>
            Shawffle is free and open source. The source code is
            available on
            <a href="https://github.com/bpeel/vaflo/tree/shavian">Github</a>.
            If you have some money to spare and want to support the
            site, you can make a donation with
            <a href="https://en.liberapay.com/bpeel/donate">Liberapay</a>.
            𐑔𐑨𐑙𐑒 𐑿!
          </p>
          <p>
            <a href="https://en.liberapay.com/bpeel/donate">
              <img alt="Donate with Liberapay" src="donaci.svg">
            </a>
          </p>
        </div>
      </div>
    </div>
    <div id="instructions-overlay" style="display: none">
      <div id="instructions">
        <div class="title-bar">
          <div class="title-left-space"></div>
          <h1 id="title">How to play</h1>
          <svg id="close-instructions-cross" viewBox="0 0 35.967396 35.9674">
            <path stroke="black" stroke-width="5"
                  d="M 32.670,3.245 l -28.990,29.793
                     m 0,-29.793 28.990,29.793" />
          </svg>
        </div>
        <p>
          Shawffle is a word game using
          the <a href="https://www.shavian.info/">Shavian
          alphabet</a>. Drag the letters to swap them until every row
          and column has a valid word.
        </p>
        <img src="drag.svg" alt="Example of dragging letters">
        <p>
          The colour of the letter indicates whether it appears in the
          word and whether it’s in the right place.
        </p>
        <img src="colors.svg" alt="Explanation of the colours of the letters">
        <p>
          If a yellow letter appears at the intersection of two words,
          that means that the letter belongs to one of the words or
          maybe both.
        </p>
        <img src="cross.svg" alt="Klarigo pri tio, kio okazas ĉe kruciĝoj">
        <p>
          You can make up to 15 swaps and every puzzle can be solved
          with just 10 swaps. 𐑜𐑫𐑛 𐑤𐑳𐑒!
        </p>
        <button id="close-instructions">Close</button>
      </div>
    </div>
  </body>
</html>
